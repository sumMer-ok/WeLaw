# EnofLaw - 普通法学习平台

## 项目概述

EnofLaw是一款专为普通法学习者设计的综合性学习平台，旨在解决法律学习者在案例研究、法律英语学习和知识管理方面的痛点。产品融合MarginNote的案例标注与思维导图功能、Notion的知识库管理功能、Anki的间隔重复记忆系统，以及AI智能分析能力，为普通法学习者提供一站式学习解决方案。

---

## 核心功能

### 1. 案例管理模块

案例管理模块是整个软件的核心，提供完整的案例生命周期管理：

- **案例导入**：支持PDF、TXT格式导入，URL抓取，剪贴板粘贴，OCR扫描识别
- **智能元数据提取**：自动识别案例标题、法院名称、判决日期、当事人信息、案号、法官姓名
- **案例库管理**：卡片式布局，支持列表/卡片视图切换，多维度筛选排序
- **案例阅读器**：三栏布局（目录+正文+批注），支持PDF渲染和纯文本阅读
- **多维度标注系统**：高亮、下划线、删除线、区域标注、评论标注，支持多色选择和批注笔记
- **AI智能分析**：自动提取案例要素（争议焦点、法律规则、案件事实、判决结果、判决理由）
- **案例关联对比**：基于关键词、引用关系、AI语义相似度进行案例关联

### 2. 法律英语学习模块

专为法律英语学习者设计的词汇学习系统：

- **划词翻译**：阅读时选中文字即可查看翻译和释义
- **词汇库管理**：个人词汇本，支持分类和标签
- **闪卡学习系统**：基于艾宾浩斯遗忘曲线的间隔重复算法
- **多维度复习**：拼写测试、选择题、例句填空
- **学习统计**：学习进度追踪，掌握程度分析

### 3. 知识库管理模块

参照Zotero+Notion+MarginNote4的设计理念：

- **个人笔记系统**：富文本/Markdown即时渲染编辑，支持双向链接
- **多级文件夹管理**：无限层级嵌套，拖拽排序
- **多标签分类**：支持标签颜色和层级
- **学习集功能**：案例、笔记、词汇、思维导图整合学习
- **思维导图**：无限画布，多种布局，节点关联原文
- **综合笔记**：学习集级别的知识整合

### 4. AI集成模块

参照Notion AI设计理念，结合本地案例数据库：

- **多模型支持**：OpenAI GPT-4/GPT-3.5、Anthropic Claude、Google Gemini
- **智能查询**：基于本地案例库的智能问答
- **内容生成**：案例摘要、法律概念解释、测验生成
- **隐私保护**：数据本地处理，仅发送摘要作为上下文

### 5. 用户界面模块

- **响应式设计**：适配不同屏幕尺寸
- **主题切换**：羊皮纸/纯白/深色模式
- **快捷操作**：快捷键支持，右键菜单
- **搜索系统**：全文搜索、高级筛选、结果高亮

### 6. 数据管理模块

- **自动保存**：编辑内容自动保存到本地
- **数据导出**：支持Markdown、PDF、Word、图片格式
- **分享功能**：生成只读/可编辑链接
- **导入资源**：集成权威法律数据库链接（BAILII、CommonLII等）

---

## 技术栈

### 前端技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| Vue 3 | 3.x | 前端框架，Composition API |
| TypeScript | 5.x | 类型安全 |
| Element Plus | 2.x | UI组件库 |
| Pinia | 2.x | 状态管理 |
| Vue Router | 4.x | 路由管理 |
| TipTap | 2.x | 富文本编辑器 |
| D3.js | 7.x | 思维导图可视化 |
| Axios | 1.x | HTTP客户端 |
| ECharts | 5.x | 数据可视化 |

### 后端技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| Spring Boot | 3.x | 后端框架 |
| MyBatis | 3.x | ORM框架 |
| PageHelper | 最新 | 分页插件 |
| MySQL | 8.0 | 主数据库 |
| Redis | 7.x | 缓存 |
| Elasticsearch | 8.x | 全文搜索引擎 |
| JWT | 0.12.x | 身份认证 |
| Maven | 3.x | 构建工具 |

### 外部服务集成

| 服务 | 用途 |
|------|------|
| OpenAI API | AI智能分析 |
| Claude API | AI智能分析 |
| 翻译API | 划词翻译 |
| Tesseract OCR | 扫描件文字识别 |

---

## 系统架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              前端层 (Vue3 + ElementPlus)                      │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ 案例阅读器   │ │ 思维导图     │ │ 闪卡学习     │ │ AI助手       │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ 翻译工具     │ │ 知识库       │ │ 学习集       │ │ 用户设置     │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           后端层 (SpringBoot)                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        API Gateway                                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ 案例管理服务 │ │ 词汇学习服务 │ │ AI集成服务   │ │ 知识库服务   │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ 用户服务     │ │ 文件服务     │ │ 搜索服务     │ │ 通知服务     │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    Mybatis + PageHelper (数据访问)                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              数据层                                         │
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐       │
│  │ MySQL        │ │ Redis        │ │ Elasticsearch│ │ 文件存储     │       │
│  │ (主数据库)   │ │ (缓存)       │ │ (全文搜索)   │ │ (PDF/图片)   │       │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘       │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 目标用户

| 用户类型 | 特征描述 | 核心需求 |
|----------|----------|----------|
| 法学院学生 | 正在学习普通法课程，需要大量阅读案例 | 案例整理、标注、复习 |
| 法律从业者 | 需要持续学习新案例，准备执业考试 | 案例检索、对比分析、知识更新 |
| 法学研究者 | 进行专题研究，需要系统整理文献 | 知识库构建、关联分析、论文写作辅助 |
| 法律英语爱好者 | 希望提升法律英语能力 | 词汇学习、翻译工具、例句积累 |

---

## 项目特色

1. **一站式学习平台**：案例阅读、标注、笔记、词汇学习、复习规划全部集成
2. **AI智能辅助**：自动提取案例要素、智能推荐学习内容、个性化学习路径
3. **科学记忆系统**：基于艾宾浩斯曲线的间隔重复，提高记忆效率
4. **知识网络构建**：双向链接、思维导图、知识图谱，构建个人法律知识库
5. **隐私保护**：数据本地处理，API密钥由用户自行配置

---

## 开发阶段规划

### 第一阶段 (MVP)
- 案例导入和基础阅读（PDF/TXT）
- 简单标注功能（高亮、批注）
- 基础词汇库和划词翻译
- 简单闪卡学习

### 第二阶段
- 思维导图功能
- 高级搜索
- AI集成基础功能（摘要生成）
- 学习集功能

### 第三阶段
- 块级编辑器
- 高级AI功能（智能分析）
- 案例关联对比
- 智能复习系统完善

### 第四阶段
- 知识图谱可视化
- 高级推荐系统
- 协作功能
- 移动端适配

---

## 文档信息

| 项目 | 内容 |
|------|------|
| 产品名称 | EnofLaw - 普通法学习平台 |
| 版本 | v1.0 |
| 更新日期 | 2026-02-23 |
| 技术栈 | 前端: Vue3 + ElementPlus, 后端: SpringBoot + Mybatis + PageHelper, 数据库: MySQL |

---

## 相关文档

- [详细设计文档](../detailed_design.md) - 完整的系统功能设计
- [更新日志](../update.md) - 项目更新记录
